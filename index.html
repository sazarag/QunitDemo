<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Refactored date examples</title>

    <link rel="stylesheet" href="assets/css/qunit-2.1.1.css">
    <script src="lib/qunit-2.1.1.js"></script>
    <script src="lib/require.js"></script>
    <script src="app/prettydate.js"></script>
    <script src="app/util.ts"></script>

    <script>
        QUnit.test("Prettydate basics", function (assert) {
            var now = "2008/01/28 22:25:00";
            assert.equal(prettyDate(now, "2008/01/28 22:24:30"), "just now");
            assert.equal(prettyDate(now, "2008/01/28 22:23:30"), "1 minute ago");
            assert.equal(prettyDate(now, "2008/01/28 21:23:30"), "1 hour ago");
            assert.equal(prettyDate(now, "2008/01/27 22:23:30"), "Yesterday");
            assert.equal(prettyDate(now, "2008/01/26 22:23:30"), "2 days ago");
            assert.equal(prettyDate(now, "2007/01/26 22:23:30"), undefined);
        });

        QUnit.test("Util Math", function (assert) {
            var utilfun = (new Util).functions();

            assert.equal(utilfun.Math.factorial(5), 120);
            assert.equal(utilfun.Math.factorial(1), 1);
            assert.equal(utilfun.Math.factorial(0), 1);
        });

        QUnit.test("Util String repeat", function (assert) {
            assert.equal((new Util).functions().String.repeat("Gorkem", 3), "Gorkem Gorkem Gorkem");
        });

        QUnit.test("Util Async method", function (assert) {
            var done = assert.async();
            var second = 1;

            (new Util).functions().Wait(second).then(function (result) {
                assert.equal(result, true);
                done();
            });

        })

    </script>
</head>
<body>

<div id="qunit"></div>

</body>
</html>